<h1>Malware Analysis Sandbox</h1>

<h2>Description</h2>
This project involves setting up two separate virtual machine (VM) environments, FlareVM and REMnux, to create a comprehensive sandbox for malware analysis and security testing. FlareVM, based on Windows, and REMnux, based on Linux, provide a diverse set of tools for analyzing malware, testing security tools, capturing network traffic, and reverse engineering code. Using these VMs as sandboxes allows for safe experimentation and analysis of suspicious files in isolated environments, ensuring that potentially harmful code is kept away from critical systems. By utilizing this sandbox, we can enhance our understanding of malicious software and develop more effective strategies for protecting against cyber attacks.
<br />


<h2>Utilities Used</h2>

- <b>OracleVM VirtualBox</b> 
- <b>FlareVM</b>
- <b>REMnux</b>

<h2>Environments Used </h2>

- <b>Windows 10</b> 

<h2>Project Walk-through:</h2>
<p align="center">
Step 1: Using Oracle VM VirtualBox, create a Windows 10 virtual machine and name it FlareVM: <br/>
<img src="https://i.imgur.com/zxm3h8n.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<p align="center">
Step 2: Within the Windows settings under Network & Internet, navigate to Proxy and disable the following settings:
<p align="center">
1. Automatically detect settings 
2. Use setup script 
3. Use a proxy server
<p align="center">
This ensures that the environment is controlled, isolated, and network behavior is predictable. This precaution prevents the system from inadvertently using an external proxy, which could interfere with malware analysis or allow malicious code to communicate with external servers. By disabling these settings, we enhance the security and integrity of the malware analysis environment, ensuring accurate and consistent analysis results:  <br/>
<img src="https://i.imgur.com/HkQPjan.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<br />
<br />
Step 3: Under Windows Security, navigate to Virus & threat project and disable the following settings:
<p align="center">
1. Real-time protection
2. Cloud-delivered protection
3. Automatic sample submission
4. Tamper protection
<p align="center">
It's crucial to disable certain Windows Security features to ensure an effective and isolated environment. Disabling Real-time Protection, Cloud-Delivered Protection, and Automatic Sample Submission prevents automatic interference with malicious files, maintaining the integrity of the analysis. Turning off Tamper Protection allows for necessary configuration changes. Together, these adjustments create a controlled setting for safely analyzing malware without external disruptions or data leakage:
<br/>
<img src="https://i.imgur.com/Qmz6iFM.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<br />
<br />
Step 4: Within Local Group Policy Editor under Microsoft Defender Antivirus, enable the setting “Turn off Microsoft Defender Antivirus.” This step prevents interference with malware analysis, ensuring that malicious files are not automatically deleted or quarantined. This allows for controlled analysis, maintains the isolation of the sandbox environment, and improves VM performance by freeing up system resources. Disabling the antivirus is crucial for creating an optimal environment for safe and efficient malware investigation:  <br/>
<img src="https://i.imgur.com/AUVw1sZ.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<br />
<br />
Step 5: Within Local Group Policy Editor under Windows Defender Firewall, disable “Windows Defender Firewall: Protect all network connections” for both the Domain Profile and the Standard Profile. This allows for unrestricted network analysis and ensures a controlled environment for monitoring malware. Disabling the firewall maintains the isolation of the sandbox from external networks and simplifies its configuration:  <br/>
<img src="https://i.imgur.com/S6gaAYE.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<img src="https://i.imgur.com/kLrgftS.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<br />
<br />
Step 6: Take a Snapshot of the virtual machine so there is a baseline Windows 10 configuration that can be restored if needed:  <br/>
<img src="https://i.imgur.com/Tw9Sqtg.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<br />
<br />
Step 7: Download and Install FlareVM on the virtual machine:  <br/>
<img src="https://i.imgur.com/SBThycT.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<br />
<br />
Step 8: Within Oracle VM VirtualBox click on File, then click on Import Appliance to download REMnux:  <br/>
<img src="https://i.imgur.com/2c92l0y.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<br />
<br />
Step 9: Go to File, then Tools, then Network Manager to set up the Host-only adapter. A Host-only adapter provides network isolation, creating a private network:  <br/>
<img src="https://i.imgur.com/lib2oT0.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<img src="https://i.imgur.com/H4LF6IJ.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<br />
<br />
Step 10: Edit inetsim.conf file within REMnux:  <br/>
<img src="https://i.imgur.com/b7Q5BNG.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<br />
<br />
Step 11: Within FlareVM, configure REMnux as the DNS server and test connectivity:  <br/>
<img src="https://i.imgur.com/XG6SAoY.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
<br />
<br />
Step 12: Save another snapshot of the FlareVM as a baseline setup:  <br/>
<img src="https://i.imgur.com/qZYc8ED.png" height="80%" width="80%" alt="Malware Analysis Sandbox Steps"/>
</p>

<!--
 ```diff
- text in red
+ text in green
! text in orange
# text in gray
@@ text in purple (and bold)@@
```
--!>

